{% extends "judge/base.html" %}

{% block content %}
  <div class="container mt-3">
    <h2>Edit Problem</h2>
    <form method="post">
      {% csrf_token %}

      <div class="mb-3">
        <label for="{{ form.name.id_for_label }}" class="form-label">Name:</label>
        {{ form.name }}
      </div>

      <div class="mb-3">
        <label for="{{ form.statement.id_for_label }}" class="form-label">Statement:</label>
        <textarea name="{{ form.statement.name }}" id="{{ form.statement.id_for_label }}" class="form-control" rows="5">{{ form.statement.value }}</textarea>
      </div>

      <div class="mb-3">
        <label for="{{ form.input_format.id_for_label }}" class="form-label">Input Format:</label>
        <textarea name="{{ form.input_format.name }}" id="{{ form.input_format.id_for_label }}" class="form-control" rows="5">{{ form.input_format.value }}</textarea>
      </div>

      <div class="mb-3">
        <label for="{{ form.output_format.id_for_label }}" class="form-label">Output Format:</label>
        <textarea name="{{ form.output_format.name }}" id="{{ form.output_format.id_for_label }}" class="form-control" rows="5">{{ form.output_format.value }}</textarea>
      </div>

      <div class="mb-3">
        <label for="{{ form.example.id_for_label }}" class="form-label">Example:</label>
        <textarea name="{{ form.example.name }}" id="{{ form.example.id_for_label }}" class="form-control" rows="5">{{ form.example.value }}</textarea>
      </div>

      <div class="mb-3">
        <label for="{{ form.timelimit.id_for_label }}" class="form-label">Time Limit:</label>
        {{ form.timelimit }}
      </div>

      <div class="mb-3">
        <label for="{{ form.model_solution.id_for_label }}" class="form-label">Model Solution:</label>
        <textarea name="{{ form.model_solution.name }}" id="{{ form.model_solution.id_for_label }}" class="form-control" rows="5">{{ form.model_solution.value }}</textarea>
      </div>

      <div class="mb-3">
        <h4>Test Cases</h4>
        {{ formset.management_form }}
        {% for form in formset.forms %}
          <div class="card mb-3">
            <div class="card-body">
              {{ form.as_table }}
            </div>
          </div>
        {% endfor %}
      </div>

      <button type="submit" class="btn btn-primary mt-3">Save Problem</button>
    </form>
  </div>

  <style>
    textarea {
      resize: vertical;
      max-height: 100px;
    }
  </style>
{% endblock %}
